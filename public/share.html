<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>M·ªü b√†i vi·∫øt tr√™n OnlyF</title>
  <link rel="icon" href="https://img.icons8.com/color/48/000000/share--v1.png" />
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f0f2f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 24px;
      color: #333;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 16px;
      color: #222;
    }

    p {
      font-size: 16px;
      margin-bottom: 32px;
      color: #555;
    }

    .btn {
      display: inline-block;
      margin: 12px;
      padding: 14px 26px;
      font-size: 16px;
      font-weight: 500;
      background-color: #1976d2;
      color: #fff;
      border: none;
      border-radius: 10px;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
    }

    .btn:hover {
      background-color: #1565c0;
      transform: translateY(-1px);
    }

    .btn.secondary {
      background-color: #555;
    }

    .btn.secondary:hover {
      background-color: #333;
    }

    .footer {
      margin-top: 48px;
      font-size: 14px;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>M·ªü b√†i vi·∫øt tr√™n OnlyF</h1>
  <p>N·∫øu b·∫°n ƒë√£ c√†i ·ª©ng d·ª•ng, h√£y m·ªü b√†i vi·∫øt tr·ª±c ti·∫øp trong app ƒë·ªÉ tr·∫£i nghi·ªám t·ªët nh·∫•t.</p>

  <a id="openAppBtn" class="btn">üì± M·ªü trong ·ª©ng d·ª•ng</a>
  <br/>
  <a href="/download.html" class="btn secondary">‚¨áÔ∏è T·∫£i ·ª©ng d·ª•ng</a>

  <div class="footer">¬© 2025 OnlyF. All rights reserved.</div>

  <script>
  var LINK_DOWNLOAD_APP_ANDROID = '';
  var SCHEME_URL = '';

  fetch('/constants.json')
    .then(response => response.json())
    .then(constants => {
      LINK_DOWNLOAD_APP_ANDROID = constants.LINK_DOWNLOAD_APP_ANDROID;
      SCHEME_URL = constants.SCHEME_URL;

      // L·∫•y query params
      const urlParams = new URLSearchParams(window.location.search);
      const postId = urlParams.get("postId");
      const ownerId = urlParams.get("ownerId");
      const createdAt = urlParams.get("createdAt");

      // Deep link URI
      const deepLink = `${SCHEME_URL}share-post?postId=${postId}&ownerId=${ownerId}&createdAt=${createdAt}`;

      // Khi b·∫•m n√∫t M·ªü ·ª©ng d·ª•ng
      document.getElementById("openAppBtn").onclick = () => {
        window.location.href = deepLink;
        setTimeout(() => {
          window.location.href = "/download.html";
        }, 2000);
      };
    })
    .catch(error => {
      console.error('Error fetching constants:', error);
    });
  </script>
</body>
</html>
